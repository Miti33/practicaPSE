<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

        <ui:composition template="./../WEB-INF/template.xhtml">
            <ui:define name="content">
                <h:form id="formDetalles">
                    <p:panelGrid columns="2" columnClasses="label,value" styleClass="ui-panelgrid-blank" style="width:60%;margin:auto;">
                        <h:outputText value="Nombre:" />
                        <h:outputText value="#{verMascota.nombre}" />

                        <h:outputText value="Edad:" />
                        <h:outputText value="#{verMascota.edad} años" />

                        <h:outputText value="Raza:" />
                        <h:outputText value="#{verMascota.raza}" />

                        <h:outputText value="Descripción:" />
                        <h:outputText value="#{verMascota.descripcion}" />
                    </p:panelGrid>

                    <div style="text-align:center; margin-top:2rem;">
                        <p:graphicImage value="#{verMascota.fotoUrl}" style="width:300px; border-radius: 10px;" />
                    </div>

                    <div style="text-align:center; margin-top:2rem;">
                        <p:commandButton value="Confirmar Adopción" action="#{solicitudFlow.confirmar(verMascota.mascotaId)}" icon="pi pi-check" styleClass="p-button-success p-mr-2" rendered="#{solicitudFlow.getPuedeConfirmar(verMascota.mascotaId)}"/>
                        <h:panelGroup rendered="#{not solicitudFlow.getPuedeConfirmar(verMascota.mascotaId)}" style="text-align:center; margin-top:1rem;">
                            <h:outputText value="⚠️ Ya has realizado una solicitud para esta mascota." style="color:darkorange; font-weight:bold;" />
                        </h:panelGroup>
                        <p:commandButton value="Volver" action="verMascota" icon="pi pi-arrow-left" styleClass="p-button-secondary" immediate="true" />
                    </div>
                </h:form>
            </ui:define>
        </ui:composition>
</html>
